---
const siteUrl = Astro.url.origin;
const SEO = {
  siteName: "HH3D",
  siteUrl,
  pageTitle: "Trạm Phim - Phim Mới, Phim Hay Vietsub Thuyết Minh",
  description:
    "Trạm Phim mang đến phim mới, phim hay Vietsub và Thuyết minh chất lượng cao. Cập nhật phim lẻ 2025, phim chiếu rạp hot cùng tuyển tập phim bộ Trung Quốc và Hàn Quốc hấp dẫn nhất.",
  logoUrl: "/logo.png",
  ogImage: "/thumb_web.png",
  robotsIndex: true,
  robotsFollow: true,
};

const {
  siteName,
  pageTitle,
  description,
  logoUrl,
  ogImage,
  robotsIndex,
  robotsFollow,
} = SEO;

const seoJsonLD = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": `${siteUrl}#organization`,
      name: siteName,
      url: siteUrl,
      logo: {
        "@type": "ImageObject",
        url: `${siteUrl}${logoUrl}`,
      },
    },
    {
      "@type": "WebSite",
      "@id": `${siteUrl}#website`,
      url: siteUrl,
      name: siteName,
      inLanguage: "vi",
      publisher: { "@id": `${siteUrl}#organization` },
      potentialAction: {
        "@type": "SearchAction",
        target: `${siteUrl}/tim-kiem?q={search_term_string}`,
        "query-input": "required name=search_term_string",
      },
    },
    {
      "@type": "WebPage",
      "@id": `${siteUrl}#webpage`,
      url: siteUrl,
      name: pageTitle,
      isPartOf: { "@id": `${siteUrl}#website` },
      about: { "@id": `${siteUrl}#organization` },
      description,
      inLanguage: "vi",
      primaryImageOfPage: {
        "@type": "ImageObject",
        url: `${siteUrl}${ogImage}`,
      },
      breadcrumb: { "@id": `${siteUrl}#breadcrumb` },
    },
    {
      "@type": "BreadcrumbList",
      "@id": `${siteUrl}#breadcrumb`,
      itemListElement: [
        {
          "@type": "ListItem",
          position: 1,
          name: "Trang chủ",
          item: siteUrl,
        },
      ],
    },
  ],
};
---

<Fragment slot="head">
  <title>{pageTitle}</title>
  <meta name="description" content={description} />
  <meta
    name="robots"
    content={`${robotsIndex ? "index" : "noindex"}, ${robotsFollow ? "follow" : "nofollow"}`}
  />
  <meta name="author" content={siteName} />
  <link rel="canonical" href={siteUrl} />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content={pageTitle} />
  <meta property="og:description" content={description} />
  <meta property="og:url" content={siteUrl} />
  <meta property="og:site_name" content={siteName} />
  <meta property="og:locale" content="vi_VN" />
  <meta property="og:image" content={`${siteUrl}${ogImage}`} />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={pageTitle} />
  <meta name="twitter:description" content={description} />
  <meta name="twitter:image" content={`${siteUrl}${ogImage}`} />

  <!-- JSON-LD -->
  <script type="application/ld+json" set:html={JSON.stringify(seoJsonLD)} />
</Fragment>
