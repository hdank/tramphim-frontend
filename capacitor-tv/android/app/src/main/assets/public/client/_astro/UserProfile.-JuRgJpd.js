import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.Be8AcK8B.js";import{u as h}from"./AuthProvider.DtbN1DVM.js";function f(){const{user:e,logout:d,uploadAvatar:c}=h(),[l,n]=m.useState(!1),[a,t]=m.useState(null),x=async o=>{const i=o.target.files?.[0];if(!i)return;if(!i.type.startsWith("image/")){t({type:"error",text:"Vui lòng chọn một ảnh"});return}if(i.size>5*1024*1024){t({type:"error",text:"Ảnh không được vượt quá 5MB"});return}n(!0);const r=await c(i);n(!1),r.success?(t({type:"success",text:"Tải ảnh đại diện thành công"}),setTimeout(()=>t(null),3e3)):t({type:"error",text:r.message})};return e?s.jsx("div",{className:"min-h-screen bg-[#191B24] px-4 py-12 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"mx-auto max-w-3xl overflow-hidden rounded-2xl bg-[#23252b] shadow-2xl ring-1 ring-white/10",children:[s.jsxs("div",{className:"bg-sky-600 px-4 py-5 sm:px-6",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-white",children:"Thông tin tài khoản"}),s.jsx("p",{className:"mt-1 max-w-2xl text-sm text-sky-100",children:"Chi tiết cá nhân và cài đặt."})]}),s.jsx("div",{className:"border-t border-white/10 px-4 py-5 sm:p-0",children:s.jsxs("dl",{className:"sm:divide-y sm:divide-white/10",children:[s.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 sm:py-5",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Ảnh đại diện"}),s.jsx("dd",{className:"mt-1 text-sm text-white sm:col-span-2 sm:mt-0",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[e.anh_dai_dien_url?s.jsx("img",{src:e.anh_dai_dien_url,alt:"Avatar",className:"h-24 w-24 rounded-full object-cover ring-2 ring-sky-500"}):s.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-700 flex items-center justify-center text-gray-400"}),s.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:x,disabled:l,className:"hidden"}),s.jsx("span",{className:"rounded-md bg-sky-500/10 px-3 py-2 text-sm font-semibold text-sky-400 shadow-sm hover:bg-sky-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Đang tải...":"Chọn ảnh"})]}),a&&s.jsx("p",{className:`text-sm font-medium ${a.type==="success"?"text-green-400":"text-red-400"}`,children:a.text})]})})]}),s.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 sm:py-5",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Tên đăng nhập"}),s.jsx("dd",{className:"mt-1 text-sm text-white sm:col-span-2 sm:mt-0",children:e.username})]}),s.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 sm:py-5",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Email"}),s.jsx("dd",{className:"mt-1 text-sm text-white sm:col-span-2 sm:mt-0",children:e.email})]}),s.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 sm:py-5",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Vai trò"}),s.jsx("dd",{className:"mt-1 text-sm text-white sm:col-span-2 sm:mt-0 capitalize",children:e.vai_tro})]})]})}),s.jsx("div",{className:"bg-[#2a2c33] px-4 py-4 sm:px-6",children:s.jsx("button",{onClick:d,className:"rounded-md bg-red-500/10 px-3 py-2 text-sm font-semibold text-red-400 shadow-sm hover:bg-red-500/20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-500 transition-colors",children:"Đăng xuất"})})]})}):s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#191B24] text-white",children:s.jsx("p",{children:"Đang tải thông tin..."})})}export{f as default};
