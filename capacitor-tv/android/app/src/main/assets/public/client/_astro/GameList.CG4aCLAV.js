import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.Be8AcK8B.js";import{u as p}from"./AuthProvider.DtbN1DVM.js";import j from"./MemoryCardGameIframe.wiXTfsbl.js";function L(){const{user:s}=p(),[a,l]=t.useState(!1),[r,i]=t.useState(!1),[n,d]=t.useState([]),[o,c]=t.useState(!1),[x,m]=t.useState(null);t.useEffect((()=>{h()}),[]);const h=async()=>{try{const e=await fetch("http://localhost:8000/game/config");if(!e.ok)throw new Error("Failed to fetch levels");const s=await e.json();d(s.levels||[])}catch(e){console.error("Failed to fetch levels:",e)}};return e.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-blue-600",children:"Mini Games"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Ch∆°i game gi·∫£i tr√≠, nh·∫≠n ƒë·∫≠u ƒë·ªïi qu√†!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"group relative bg-[#1e293b] rounded-2xl overflow-hidden border border-gray-700 hover:border-sky-500 transition-all duration-300 shadow-xl hover:shadow-sky-500/20",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden bg-gray-900 flex items-center justify-center",children:[e.jsx("img",{src:"/mini-game-card.png",alt:"Memory Card Game",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors duration-300"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-white group-hover:text-sky-400 transition-colors",children:"Memory Card"}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"L·∫≠t th·∫ª t√¨m c·∫∑p gi·ªëng nhau. Th·ª≠ th√°ch tr√≠ nh·ªõ c·ªßa b·∫°n!"}),e.jsx("button",{onClick:()=>{s?(s.points||0)<1500?i(!0):l(!0):window.location.href="/dang-nhap"},className:"w-full py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl font-bold transition-all transform active:scale-95 shadow-lg shadow-sky-600/20",children:"Ch∆°i Ngay"})]})]}),e.jsxs("div",{className:"bg-[#1e293b]/50 rounded-2xl overflow-hidden border border-gray-800 p-6 flex flex-col items-center justify-center text-center opacity-70",children:[e.jsx("span",{className:"text-4xl mb-4",children:"üöÄ"}),e.jsx("h3",{className:"text-lg font-bold text-gray-400 mb-2",children:"S·∫Øp ra m·∫Øt"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nhi·ªÅu game h·∫•p d·∫´n kh√°c ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn"})]})]})]}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#1e293b] rounded-2xl border border-gray-700 w-full max-w-md p-6 shadow-2xl animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Ch·ªçn C·∫•p ƒê·ªô"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-700 rounded-full transition-colors",children:"‚úï"})]}),e.jsxs("div",{className:"space-y-3",children:[n.map((s=>e.jsxs("button",{onClick:()=>(e=>{m(e),l(!1)})(s.id),className:"w-full p-4 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-sky-500 rounded-xl flex items-center justify-between group transition-all",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-white group-hover:text-sky-400 transition-colors",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[s.pairs_count," c·∫∑p th·∫ª ‚Ä¢ ",s.time_limit?`${s.time_limit}s`:"Kh√¥ng gi·ªõi h·∫°n"]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Th∆∞·ªüng"}),e.jsxs("span",{className:"text-yellow-400 font-bold",children:["+",s.points_reward," ƒê·∫≠u"]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Ph·∫°t"}),e.jsxs("span",{className:"text-red-400 font-bold",children:["-",s.points_penalty," ƒê·∫≠u"]})]})]},s.id))),0===n.length&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"ƒêang t·∫£i danh s√°ch c·∫•p ƒë·ªô..."})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4 bg-black/90 backdrop-blur-md animate-fade-in",children:e.jsx("div",{className:"w-full h-full md:max-w-6xl md:h-[85vh] md:max-h-[900px] relative animate-scale-in md:shadow-2xl md:rounded-2xl overflow-hidden",children:e.jsx(j,{levelId:x,onClose:()=>{m(null)}})})}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#1e293b] rounded-2xl border border-gray-700 w-full max-w-md p-8 shadow-2xl animate-in fade-in zoom-in duration-200",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-4xl",children:"‚ö†Ô∏è"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-3",children:"ƒêi·ªÉm kh√¥ng ƒë·ªß"}),e.jsxs("p",{className:"text-gray-400 text-center mb-6",children:["B·∫°n c·∫ßn √≠t nh·∫•t ",e.jsx("span",{className:"text-yellow-400 font-bold",children:"1,500 ƒê·∫≠u"})," ƒë·ªÉ ch∆°i game n√†y."]}),e.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700 mb-6 text-center",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"S·ªë ƒë·∫≠u hi·ªán t·∫°i"}),e.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:[(s.points||0).toLocaleString("vi-VN")," ƒê·∫≠u"]}),e.jsxs("div",{className:"text-sm text-red-400 mt-2",children:["Thi·∫øu ",(1500-(s.points||0)).toLocaleString("vi-VN")," ƒê·∫≠u"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-bold transition-colors",children:"Quay l·∫°i"}),e.jsx("button",{onClick:()=>window.location.href="/tai-khoan/yeu-thich",className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl font-bold transition-colors",children:"Ki·∫øm ƒê·∫≠u"})]})]})})]})}export{L as default};