import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.Be8AcK8B.js";import{S as E,N as $,a as L}from"./navigation.B7JTlovQ.js";import{r as R,a as S}from"./movieUtils.BPictt7M.js";import{m as d}from"./proxy.jt7NOk77.js";const V=({index:s=0})=>e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.05*s},className:"flex flex-col",children:[e.jsx("div",{className:"skeleton-shimmer aspect-[2/3] w-full rounded-xl"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("div",{className:"skeleton-shimmer h-4 w-3/4 rounded"}),e.jsx("div",{className:"skeleton-shimmer h-3 w-1/2 rounded"})]})]}),C={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.4,ease:[.25,.46,.45,.94]}})},P={initial:{scale:1},hover:{scale:1,transition:{duration:.3,ease:"easeOut"}}};function A({movies:s=[],title:i,loading:a,error:n}){const l=r.useRef(null),t=r.useRef(null),c=r.useRef(null),[o,m]=r.useState(!0),[h,v]=r.useState(!1),[x,p]=r.useState(!1);r.useEffect((()=>{p(!0)}),[]),r.useEffect((()=>{if(c.current&&l.current&&t.current){const e=c.current.swiper;e.params.navigation.prevEl=l.current,e.params.navigation.nextEl=t.current,e.navigation.init(),e.navigation.update()}}),[x,s.length]);const j={spaceBetween:10,modules:[$],navigation:{prevEl:l.current,nextEl:t.current},onSwiper:e=>{c.current={swiper:e},e.on("slideChange",(()=>{m(e.isBeginning),v(e.isEnd)}))},breakpoints:{0:{slidesPerView:3,spaceBetween:8},640:{slidesPerView:4,spaceBetween:10},768:{slidesPerView:4,spaceBetween:12},1024:{slidesPerView:4,spaceBetween:16},1280:{slidesPerView:5,spaceBetween:18},1536:{slidesPerView:6,spaceBetween:20}}};return a||!n&&s&&0!==s.length?a?e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-5 lg:gap-4 xl:grid-cols-6",children:Array.from({length:6}).map(((s,i)=>e.jsx(V,{index:i},i)))})})]}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative h-auto","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"slider-controls-group",children:[e.jsx("button",{ref:l,className:"slider-nav-btn "+(o?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn trái",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M10.3335 12.6667L5.66683 8.00004L10.3335 3.33337"})})}),e.jsx("button",{ref:t,className:"slider-nav-btn "+(h?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn phải",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5.66675 3.33341L10.3334 8.00008L5.66675 12.6667"})})})]})})]}),e.jsx("div",{className:"mt-1 h-px flex-1 bg-gradient-to-r from-sky-500/50 via-cyan-500/30 to-transparent"})]})}),e.jsx("div",{className:"relative py-4",children:x&&e.jsx(E,{...j,className:"movie-card-swiper",children:s.map(((s,i)=>{const{id:a,slug:r,ten_phim:n,poster_url:l,tinh_trang:t,ngon_ngu:c,ten_khac:o}=s,m=a||r||`movie-${i}`;return e.jsx(L,{children:e.jsx(d.a,{href:`/phim/${r}`,className:"movie-card-link group",custom:i,initial:"hidden",animate:"visible",variants:C,whileHover:"hover",children:e.jsxs("div",{className:"movie-card-wrapper",children:[e.jsxs("div",{className:"movie-poster-container",children:[e.jsx(d.div,{className:"movie-poster-inner",variants:P,children:e.jsx("img",{src:l,alt:`Xem ${n||o} Vietsub Thuyết Minh Full HD`,className:"movie-poster-image",loading:"lazy"})}),e.jsx("div",{className:"movie-hover-overlay",children:e.jsx("div",{className:"movie-play-icon",children:e.jsx("svg",{className:"h-8 w-8 lg:h-12 lg:w-12",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"movie-tags-container",children:[e.jsx("span",{className:"movie-lang-badge",children:R(c)}),e.jsx("span",{className:"movie-status-badge",children:S(t)})]})]}),e.jsxs("div",{className:"movie-info-container",children:[e.jsx("h3",{className:"movie-card-title",title:n,children:n}),e.jsx("p",{className:"movie-card-subtitle",children:o})]})]})})},m)}))})})]})}):e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsxs("div",{className:"error-container",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"error-message-title",children:"Rất tiếc, không tìm thấy phim nào."}),e.jsx("p",{className:"error-message-detail",children:"Vui lòng thử lại sau hoặc kiểm tra kết nối mạng của bạn."})]})]})}export{A as default};