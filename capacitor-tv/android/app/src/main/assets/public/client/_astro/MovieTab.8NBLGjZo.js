import{j as l}from"./jsx-runtime.D_zvdyIk.js";import{r as f}from"./index.Be8AcK8B.js";import j from"./EpisodeList.Bpv1sM-J.js";import"./alarm.DxcPw94X.js";const h=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-full w-full p-2 text-gray-600",children:l.jsx("path",{fill:"currentColor",d:"M4 22a8 8 0 1 1 16 0zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6s6 2.685 6 6s-2.685 6-6 6"})}),b=({actors:t})=>!t||t.length===0?l.jsxs("div",{className:"flex min-h-[200px] w-full flex-col items-center justify-center rounded-lg bg-[#00000033] text-gray-500",children:[l.jsx(h,{className:"h-20 w-20"}),l.jsx("span",{children:"Không có diễn viên."})]}):l.jsxs("div",{className:"w-full",children:[l.jsx("h3",{className:"mb-4 text-lg font-semibold text-white lg:text-2xl",children:"Diễn viên"}),l.jsx("ul",{className:"grid grid-cols-2 gap-4 lg:grid-cols-6",children:t.map(e=>l.jsx("li",{className:"flex flex-col items-center text-center",children:l.jsxs("a",{href:`/dien-vien/${e.slug}`,className:"group relative flex w-full flex-col",children:[l.jsx("div",{className:"relative flex h-52 w-full flex-shrink-0 items-center justify-center overflow-hidden rounded-md bg-gray-800",children:e.anh_url?l.jsx("img",{src:e.anh_url,alt:e.ten,className:"h-auto w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):l.jsx("div",{className:"flex h-auto w-full items-center justify-center",children:l.jsx(h,{})})}),l.jsx("div",{className:"absolute bottom-0 left-0 h-[70%] w-full rounded-b-md",style:{background:"linear-gradient(to top, rgba(30, 30, 30, 0.8) 5%, transparent 100%)"},"aria-hidden":"true"}),l.jsx("p",{className:"absolute bottom-0 left-0 right-0 z-20 px-2 py-1 text-xs lg:text-sm font-medium text-white transition-colors duration-200 group-hover:text-blue-300",children:e.ten})]})},e.id))})]}),v=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",children:l.jsxs("g",{fill:"none",fillRule:"evenodd",children:[l.jsx("path",{d:"m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),l.jsx("path",{fill:"currentColor",d:"M11.084 3.244a3 3 0 0 1 1.607-.063l.225.063L19.45 5.34c.19.063.361.181.486.346l.07.105l2.75 4.747a1 1 0 0 1-.44 1.407l-.12.047l-2.051.658v4.33a2 2 0 0 1-1.237 1.848l-.152.056l-5.84 1.872a3 3 0 0 1-1.607.063l-.225-.062l-5.84-1.873a2 2 0 0 1-1.382-1.743l-.007-.162V12.65l-2.051-.658a1 1 0 0 1-.617-1.338l.057-.116l2.75-4.747a1 1 0 0 1 .445-.406l.11-.045zM13 12.305v6.324l5.145-1.65v-3.687l-3.09.991a1 1 0 0 1-1.106-.353l-.064-.098zm-2 0l-.885 1.527a1 1 0 0 1-1.17.451l-3.09-.991v3.687L11 18.63zM5.32 7.49l-1.723 2.977l5.191 1.666l1.725-2.977zm13.36 0l-5.193 1.666l1.724 2.977l5.192-1.666zm-6.375-2.342a1 1 0 0 0-.49-.03l-.12.03L8.13 6.292L12 7.533l3.87-1.241z"})]})}),w=({imagesData:t})=>{const e=Array.isArray(t?.images)?t.images:[];if(e.length===0)return l.jsxs("div",{className:"flex min-h-[200px] w-full flex-col items-center justify-center rounded-lg bg-[#00000033] text-gray-500",children:[l.jsx(v,{}),l.jsx("span",{children:"Không có hình ảnh."})]});const r=e.filter(s=>s.loai_anh==="backdrop").slice(0,5),a=e.filter(s=>s.loai_anh==="poster").slice(0,5),n=[],d=Math.max(r.length,a.length*2);for(let s=0;s<d;s++)s<r.length&&n.push(r[s]),s%2===0&&s/2<a.length&&n.push(a[s/2]);const m=n.slice(0,10);return l.jsxs("div",{className:"w-full",children:[l.jsx("h3",{className:"mb-4 text-lg font-semibold text-white lg:text-2xl",children:"Hình ảnh"}),l.jsx("div",{className:"grid grid-cols-5 items-stretch gap-1.5 lg:grid-cols-8",children:m.map(s=>l.jsx("div",{className:`overflow-hidden ${s.loai_anh==="backdrop"?"col-span-2":"col-span-1"}`,children:l.jsx("img",{src:s.duong_dan_file,alt:"Hình ảnh phim",className:"h-full w-full object-cover",loading:"lazy"})},s.id))})]})},N=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",children:l.jsxs("g",{fill:"none",fillRule:"evenodd",children:[l.jsx("path",{d:"m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),l.jsx("path",{fill:"currentColor",d:"M11.084 3.244a3 3 0 0 1 1.607-.063l.225.063L19.45 5.34c.19.063.361.181.486.346l.07.105l2.75 4.747a1 1 0 0 1-.44 1.407l-.12.047l-2.051.658v4.33a2 2 0 0 1-1.237 1.848l-.152.056l-5.84 1.872a3 3 0 0 1-1.607.063l-.225-.062l-5.84-1.873a2 2 0 0 1-1.382-1.743l-.007-.162V12.65l-2.051-.658a1 1 0 0 1-.617-1.338l.057-.116l2.75-4.747a1 1 0 0 1 .445-.406l.11-.045zM13 12.305v6.324l5.145-1.65v-3.687l-3.09.991a1 1 0 0 1-1.106-.353l-.064-.098zm-2 0l-.885 1.527a1 1 0 0 1-1.17.451l-3.09-.991v3.687L11 18.63zM5.32 7.49l-1.723 2.977l5.191 1.666l1.725-2.977zm13.36 0l-5.193 1.666l1.724 2.977l5.192-1.666zm-6.375-2.342a1 1 0 0 0-.49-.03l-.12.03L8.13 6.292L12 7.533l3.87-1.241z"})]})}),x=()=>l.jsxs("div",{className:"flex min-h-[200px] w-full flex-col items-center justify-center rounded-lg bg-[#00000033] text-gray-500",children:[l.jsx(N,{}),l.jsx("span",{children:"Không có trailer."})]}),y=({trailer_url:t})=>{if(!t)return l.jsx(x,{});let e=null;try{const a=new URL(t);(a.hostname==="www.youtube.com"||a.hostname==="youtube.com")&&(e=new URLSearchParams(a.search).get("v"))}catch{return l.jsx(x,{})}if(!e)return l.jsx(x,{});const r=`https://www.youtube.com/embed/${e}`;return l.jsxs("div",{className:"w-full",children:[l.jsx("h3",{className:"mb-4 text-lg font-semibold text-white lg:text-2xl",children:"Trailer"}),l.jsx("div",{className:"max-w-lg",children:l.jsx("div",{className:"relative aspect-[16/9] w-full overflow-hidden rounded-lg",children:l.jsx("iframe",{className:"absolute left-0 top-0 h-full w-full",src:r,title:"Movie Trailer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,fetchPriority:"high"})})})]})},z=({movie:t})=>!t||t.length===0?null:l.jsx("div",{className:"py-4",children:l.jsx("div",{className:"grid grid-cols-3 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:t.map(e=>l.jsx("a",{href:`/phim/${e.phim.slug}`,className:"group block overflow-hidden rounded-lg",children:l.jsxs("div",{className:"relative pb-[150%]",children:[l.jsx("img",{src:e.phim.poster_url,alt:e.phim.ten_phim,className:"absolute inset-0 h-full w-full rounded-lg object-cover"}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-t from-black via-transparent to-transparent opacity-70 transition-opacity duration-200 group-hover:opacity-100"}),l.jsx("span",{className:"absolute bottom-0 rounded bg-black bg-opacity-50 p-1 text-center text-xs font-medium text-white",children:e.phim.ten_phim}),l.jsxs("span",{className:"absolute left-2 top-2 rounded-md bg-[linear-gradient(90deg,#e5330b_0%,#ff670b_51%,#d9a666_100%)] px-2 py-1 text-xs font-semibold text-white",children:[" ",e.ten_phan]})]})},e.id))})}),q=({vietsubEpisodes:t,thuyetMinhEpisodes:e,longtiengEpisodes:r,slug:a,currentType:n,actors:d,images:m,phanlienquan:s,trailer_url:g,movieTitle:u,initialSortAscending:p})=>{const[i,o]=f.useState("episodes");return l.jsxs("div",{className:"py-4",children:[l.jsx("h2",{className:"mb-4 text-lg font-semibold lg:text-xl",children:"Mục Phim"}),l.jsxs("div",{className:"flex items-start gap-3 border-b border-gray-700 text-xs lg:gap-8 lg:text-base",children:[l.jsx(c,{label:"Tập Phim",tabName:"episodes",activeTab:i,setActiveTab:o}),s&&s.length>0&&l.jsx(c,{label:"Phần Liên Quan",tabName:"phanlienquans",activeTab:i,setActiveTab:o}),l.jsx(c,{label:"Trailer",tabName:"trailer",activeTab:i,setActiveTab:o}),l.jsx(c,{label:"Diễn viên",tabName:"cast",activeTab:i,setActiveTab:o}),l.jsx(c,{label:"Hình ảnh",tabName:"images",activeTab:i,setActiveTab:o})]}),l.jsxs("div",{className:"pt-4 lg:pt-8",children:[i==="episodes"&&l.jsx(j,{vietsub:t,thuyetminh:e,longtieng:r,slug:a,currentType:n,movieTitle:u,initialSortAscending:p}),i==="cast"&&l.jsx(b,{actors:d}),i==="images"&&l.jsx(w,{imagesData:m}),i==="trailer"&&l.jsx(y,{trailer_url:g}),i==="phanlienquans"&&l.jsx(z,{movie:s})]})]})},c=({label:t,tabName:e,activeTab:r,setActiveTab:a})=>{const n=r===e;return l.jsxs("button",{className:`duration-400 relative px-2 py-4 text-xs lg:text-sm font-medium transition-colors ease-in-out ${n?"text-white":"text-gray-400 hover:text-white"}`,onClick:()=>a(e),children:[t,n&&l.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 transform border-b-2 border-sky-300",style:{width:"20px"}})]})};export{q as default};
