import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.Be8AcK8B.js";import{S as L,N as R,a as C}from"./navigation.B7JTlovQ.js";import{r as M,a as P}from"./movieUtils.BPictt7M.js";import{m as S}from"./proxy.jt7NOk77.js";const V=({index:s=0})=>e.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.05*s},className:"relative",children:[e.jsx("div",{className:"skeleton-shimmer aspect-[16/9] w-full rounded-xl"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[e.jsx("div",{className:"skeleton-shimmer h-5 w-3/4 rounded"}),e.jsx("div",{className:"skeleton-shimmer h-4 w-1/2 rounded"})]})]});function G({movies:s=[],title:a,loading:i,error:r}){const l=n.useRef(null),t=n.useRef(null),c=n.useRef(null),[d,o]=n.useState(!0),[m,h]=n.useState(!1);n.useEffect((()=>{if(c.current&&l.current&&t.current){const e=c.current.swiper;e.params.navigation.prevEl=l.current,e.params.navigation.nextEl=t.current,e.navigation.init(),e.navigation.update()}}),[s.length]);const x={spaceBetween:16,modules:[R],navigation:{prevEl:l.current,nextEl:t.current},onSwiper:e=>{c.current={swiper:e},e.on("slideChange",(()=>{o(e.isBeginning),h(e.isEnd)}))},breakpoints:{0:{slidesPerView:1.2,spaceBetween:12},480:{slidesPerView:1.5,spaceBetween:14},640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:2.5,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:18},1280:{slidesPerView:4,spaceBetween:20},1536:{slidesPerView:4,spaceBetween:20}}};return i||!r&&s&&0!==s.length?i?e.jsxs("section",{className:"section-container","aria-label":`${a.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${a.replace(/\s+/g,"-")}-heading`,className:"header-title",children:a})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:4}).map(((s,a)=>e.jsx(V,{index:a},a)))})})]}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative h-auto","aria-label":`${a.replace(/\s+/g,"-")}-heading`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${a.replace(/\s+/g,"-")}-heading`,className:"header-title",children:a})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"slider-controls-group",children:[e.jsx("button",{ref:l,className:"slider-nav-btn "+(d?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn trái",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M10.3335 12.6667L5.66683 8.00004L10.3335 3.33337"})})}),e.jsx("button",{ref:t,className:"slider-nav-btn "+(m?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn phải",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5.66675 3.33341L10.3334 8.00008L5.66675 12.6667"})})})]})})]}),e.jsx("div",{className:"mt-1 h-px flex-1 bg-gradient-to-r from-sky-500/50 via-cyan-500/30 to-transparent"})]})}),e.jsx("div",{className:"relative py-4",children:e.jsx(L,{...x,className:"anime-card-swiper",children:s.map(((s,a)=>{const{id:i,slug:n,ten_phim:r,poster_url:l,thumb_url:t,tinh_trang:c,ngon_ngu:d,ten_khac:o,nam_phat_hanh:m,thoi_luong:h,do_tuoi:x}=s,p=i||n||`movie-${a}`,j=t||l;return e.jsx(C,{children:e.jsx("a",{href:`/phim/${n}`,className:"anime-card-link group block",children:e.jsxs("div",{className:"anime-card-wrapper",children:[e.jsxs("div",{className:"anime-card-image-container",children:[e.jsx("img",{src:j,alt:`Xem ${r||o} Vietsub Thuyết Minh Full HD`,className:"anime-card-main-image",loading:"lazy"}),e.jsx("div",{className:"anime-card-gradient"}),e.jsx("div",{className:"anime-card-hover-overlay",children:e.jsx("div",{className:"anime-play-icon",children:e.jsx("svg",{className:"h-12 w-12 lg:h-16 lg:w-16",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})})]}),e.jsxs("div",{className:"anime-card-info-row",children:[e.jsxs("div",{className:"anime-card-thumbnail",children:[e.jsx("img",{src:l,alt:r,className:"anime-card-thumbnail-img",loading:"lazy"}),e.jsx("span",{className:"anime-thumb-badge",children:M(d)})]}),e.jsxs("div",{className:"anime-card-info",children:[e.jsx("h3",{className:"anime-card-title",title:r,children:r}),e.jsx("p",{className:"anime-card-subtitle",children:o}),e.jsxs("div",{className:"anime-card-meta",children:[x&&e.jsx("span",{className:"anime-meta-badge anime-age-badge",children:x}),m&&e.jsx("span",{className:"anime-meta-item",children:m}),h&&e.jsx("span",{className:"anime-meta-item",children:h}),c&&e.jsx("span",{className:"anime-meta-item anime-status",children:P(c)})]})]})]})]})})},p)}))})})]})}):e.jsxs("section",{className:"section-container","aria-label":`${a.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${a.replace(/\s+/g,"-")}-heading`,className:"header-title",children:a})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsxs("div",{className:"error-container",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"error-message-title",children:"Rất tiếc, không tìm thấy phim nào."}),e.jsx("p",{className:"error-message-detail",children:"Vui lòng thử lại sau hoặc kiểm tra kết nối mạng của bạn."})]})]})}export{G as default};