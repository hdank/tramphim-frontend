import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.Be8AcK8B.js";import{S as E,N as R,a as S}from"./navigation.B7JTlovQ.js";import{r as $,a as C}from"./movieUtils.BPictt7M.js";import{m as V}from"./proxy.jt7NOk77.js";const _=({index:s=0})=>e.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.05*s},className:"flex flex-col",children:[e.jsx("div",{className:"skeleton-shimmer aspect-[2/3] w-full rounded-xl"}),e.jsxs("div",{className:"flex items-center gap-x-4 py-4",children:[e.jsx("div",{className:"skeleton-shimmer h-12 w-12 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"skeleton-shimmer h-4 w-3/4 rounded"}),e.jsx("div",{className:"skeleton-shimmer h-3 w-1/2 rounded"})]})]})]});function G({movies:s=[],title:i,loading:a,error:n}){const l=r.useRef(null),t=r.useRef(null),c=r.useRef(null),[d,o]=r.useState(!0),[m,h]=r.useState(!1),[p,x]=r.useState(!1);r.useEffect((()=>{x(!0)}),[]),r.useEffect((()=>{if(c.current&&l.current&&t.current){const e=c.current.swiper;e.params.navigation.prevEl=l.current,e.params.navigation.nextEl=t.current,e.navigation.init(),e.navigation.update()}}),[p,s.length]);const v={spaceBetween:10,modules:[R],navigation:{prevEl:l.current,nextEl:t.current},onSwiper:e=>{c.current={swiper:e},e.on("slideChange",(()=>{o(e.isBeginning),h(e.isEnd)}))},breakpoints:{0:{slidesPerView:2,spaceBetween:8},640:{slidesPerView:3,spaceBetween:10},768:{slidesPerView:4,spaceBetween:12},1024:{slidesPerView:4,spaceBetween:16},1280:{slidesPerView:5,spaceBetween:18},1536:{slidesPerView:6,spaceBetween:20}}};return a||!n&&s&&0!==s.length?a?e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-5 lg:gap-4 xl:grid-cols-6",children:Array.from({length:6}).map(((s,i)=>e.jsx(_,{index:i},i)))})})]}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative h-auto","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"slider-controls-group",children:[e.jsx("button",{ref:l,className:"slider-nav-btn "+(d?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn trái",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M10.3335 12.6667L5.66683 8.00004L10.3335 3.33337"})})}),e.jsx("button",{ref:t,className:"slider-nav-btn "+(m?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn phải",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5.66675 3.33341L10.3334 8.00008L5.66675 12.6667"})})})]})})]}),e.jsx("div",{className:"mt-1 h-px flex-1 bg-gradient-to-r from-sky-500/50 via-cyan-500/30 to-transparent"})]})}),e.jsx("div",{className:"relative py-4",children:e.jsx(E,{...v,className:"movie-card-swiper",children:s.map(((s,i)=>{const{id:a,slug:r,ten_phim:n,poster_url:l,tinh_trang:t,ngon_ngu:c,ten_khac:d}=s,o=a||r||`movie-${i}`,m=i%2==0?"polygon(94.239% 100%, 5.761% 100%, 5.761% 100%, 4.826% 99.95%, 3.94% 99.803%, 3.113% 99.569%, 2.358% 99.256%, 1.687% 98.87%, 1.111% 98.421%, .643% 97.915%, .294% 97.362%, .075% 96.768%, 0 96.142%, 0 3.858%, 0 3.858%, .087% 3.185%, .338% 2.552%, .737% 1.968%, 1.269% 1.442%, 1.92% .984%, 2.672% .602%, 3.512% .306%, 4.423% .105%, 5.391% .008%, 6.4% .024%, 94.879% 6.625%, 94.879% 6.625%, 95.731% 6.732%, 96.532% 6.919%, 97.272% 7.178%, 97.942% 7.503%, 98.533% 7.887%, 99.038% 8.323%, 99.445% 8.805%, 99.747% 9.326%, 99.935% 9.88%, 100% 10.459%, 100% 96.142%, 100% 96.142%, 99.925% 96.768%, 99.706% 97.362%, 99.357% 97.915%, 98.889% 98.421%, 98.313% 98.87%, 97.642% 99.256%, 96.887% 99.569%, 96.06% 99.803%, 95.174% 99.95%, 94.239% 100%)":"polygon(5.761% 100%, 94.239% 100%, 94.239% 100%, 95.174% 99.95%, 96.06% 99.803%, 96.887% 99.569%, 97.642% 99.256%, 98.313% 98.87%, 98.889% 98.421%, 99.357% 97.915%, 99.706% 97.362%, 99.925% 96.768%, 100% 96.142%, 100% 3.858%, 100% 3.858%, 99.913% 3.185%, 99.662% 2.552%, 99.263% 1.968%, 98.731% 1.442%, 98.08% .984%, 97.328% .602%, 96.488% .306%, 95.577% .105%, 94.609% .008%, 93.6% .024%, 5.121% 6.625%, 5.121% 6.625%, 4.269% 6.732%, 3.468% 6.919%, 2.728% 7.178%, 2.058% 7.503%, 1.467% 7.887%, .962% 8.323%, .555% 8.805%, .253% 9.326%, .065% 9.88%, 0% 10.459%, 0% 96.142%, 0% 96.142%, .075% 96.768%, .294% 97.362%, .643% 97.915%, 1.111% 98.421%, 1.687% 98.87%, 2.358% 99.256%, 3.113% 99.569%, 3.94% 99.803%, 4.826% 99.95%, 5.761% 100%)";return e.jsx(S,{children:e.jsx("a",{href:`/phim/${r}`,className:"top10-card-link group",children:e.jsxs("div",{className:"top10-card-wrapper",children:[e.jsxs("div",{className:"top10-poster-container",style:{clipPath:m},children:[e.jsx("div",{className:"top10-poster-inner",children:e.jsx("img",{src:l,alt:`Xem ${n||d} Vietsub Thuyết Minh Full HD`,className:"top10-poster-image",loading:i<6?"eager":"lazy",fetchPriority:i<3?"high":"auto",decoding:"async"})}),e.jsx("div",{className:"top10-hover-overlay",children:e.jsx("div",{className:"movie-play-icon",children:e.jsx("svg",{className:"h-8 w-8 lg:h-12 lg:w-12",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"movie-tags-container",children:[e.jsx("span",{className:"movie-lang-badge",children:$(c)}),e.jsx("span",{className:"movie-status-badge",children:C(t)})]})]}),e.jsxs("div",{className:"movie-ranking-row",children:[e.jsx("span",{className:"movie-ranking-number",children:i+1}),e.jsxs("div",{className:"movie-details-text",children:[e.jsx("h3",{className:"movie-title-main",title:n,children:n}),e.jsx("p",{className:"movie-subtitle",dangerouslySetInnerHTML:{__html:d}})]})]})]})})},o)}))})})]})}):e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsxs("div",{className:"error-container",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"error-message-title",children:"Rất tiếc, không tìm thấy phim nào."}),e.jsx("p",{className:"error-message-detail",children:"Vui lòng thử lại sau hoặc kiểm tra kết nối mạng của bạn."})]})]})}export{G as default};