import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.DtoOFyvK.js";import{S as E,N as $,a as L}from"./navigation.LXlx0XuN.js";import{r as M,a as S}from"./movieUtils.BPictt7M.js";function _({movies:s=[],title:i,loading:r,error:n}){const t=a.useRef(null),l=a.useRef(null),c=a.useRef(null),[d,o]=a.useState(!0),[h,m]=a.useState(!1),[x,p]=a.useState(!1);a.useEffect((()=>{p(!0)}),[]),a.useEffect((()=>{if(c.current&&t.current&&l.current){const e=c.current.swiper;e.params.navigation.prevEl=t.current,e.params.navigation.nextEl=l.current,e.navigation.init(),e.navigation.update()}}),[x,s.length]);const v={spaceBetween:10,modules:[$],navigation:{prevEl:t.current,nextEl:l.current},onSwiper:e=>{c.current={swiper:e},e.on("slideChange",(()=>{o(e.isBeginning),m(e.isEnd)}))},breakpoints:{0:{slidesPerView:3,spaceBetween:8},640:{slidesPerView:4,spaceBetween:10},768:{slidesPerView:5,spaceBetween:12},1024:{slidesPerView:5,spaceBetween:15},1280:{slidesPerView:6,spaceBetween:16}}};return r||!n&&s&&0!==s.length?r?e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsx("div",{className:"loading-container",children:e.jsx("p",{className:"text-gray-400",children:"Đang tải..."})})]}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative h-auto","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"slider-controls-group",children:[e.jsx("button",{ref:t,className:"slider-nav-btn "+(d?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn trái",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M10.3335 12.6667L5.66683 8.00004L10.3335 3.33337"})})}),e.jsx("button",{ref:l,className:"slider-nav-btn "+(h?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn phải",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5.66675 3.33341L10.3334 8.00008L5.66675 12.6667"})})})]})})]}),e.jsx("div",{className:"mt-1 h-px flex-1 bg-gradient-to-r from-sky-500/50 via-cyan-500/30 to-transparent"})]})}),e.jsx("div",{className:"relative py-4",children:x&&e.jsx(E,{...v,className:"movie-card-swiper",children:s.map(((s,a)=>{const{id:i,slug:r,ten_phim:n,poster_url:t,tinh_trang:l,ngon_ngu:c,ten_khac:d}=s,o=i||r||`movie-${a}`;return e.jsx(L,{children:e.jsx("a",{href:`/phim/${r}`,className:"movie-card-link group",children:e.jsxs("div",{className:"movie-card-main",children:[e.jsxs("div",{className:"movie-poster-clip",children:[e.jsx("img",{src:t,alt:`Xem ${n||d} Vietsub Thuyết Minh Full HD`,className:"movie-poster-img",loading:"lazy"}),e.jsxs("div",{className:"movie-info-bottom",children:[e.jsx("span",{className:"movie-lang-tag",children:M(c)}),e.jsx("span",{className:"movie-status-tag-alt",children:S(l)})]})]}),e.jsxs("div",{className:"movie-details-text-day",children:[e.jsx("h3",{className:"movie-title-main-day",title:n,children:n}),e.jsx("p",{className:"movie-subtitle-day",children:d})]})]})})},o)}))})})]})}):e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsxs("div",{className:"error-container",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"error-message-title",children:"Rất tiếc, không tìm thấy phim nào."}),e.jsx("p",{className:"error-message-detail",children:"Vui lòng thử lại sau hoặc kiểm tra kết nối mạng của bạn."})]})]})}export{_ as default};