import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.DtoOFyvK.js";import{S as $,N as P,a as S}from"./navigation.LXlx0XuN.js";import{r as R,a as C}from"./movieUtils.BPictt7M.js";function z({movies:s=[],title:i,loading:r,error:n}){const t=a.useRef(null),l=a.useRef(null),c=a.useRef(null),[d,o]=a.useState(!0),[h,m]=a.useState(!1),[p,x]=a.useState(!1);a.useEffect((()=>{x(!0)}),[]),a.useEffect((()=>{if(c.current&&t.current&&l.current){const e=c.current.swiper;e.params.navigation.prevEl=t.current,e.params.navigation.nextEl=l.current,e.navigation.init(),e.navigation.update()}}),[p,s.length]);const v={spaceBetween:10,modules:[P],navigation:{prevEl:t.current,nextEl:l.current},onSwiper:e=>{c.current={swiper:e},e.on("slideChange",(()=>{o(e.isBeginning),m(e.isEnd)}))},breakpoints:{0:{slidesPerView:2,spaceBetween:8},640:{slidesPerView:4,spaceBetween:10},768:{slidesPerView:5,spaceBetween:12},1024:{slidesPerView:5,spaceBetween:15},1280:{slidesPerView:6,spaceBetween:16}}};return r||!n&&s&&0!==s.length?r?e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsx("div",{className:"loading-container",children:e.jsx("p",{className:"text-gray-400",children:"Đang tải..."})})]}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"relative h-auto","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"slider-controls-group",children:[e.jsx("button",{ref:t,className:"slider-nav-btn "+(d?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn trái",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M10.3335 12.6667L5.66683 8.00004L10.3335 3.33337"})})}),e.jsx("button",{ref:l,className:"slider-nav-btn "+(h?"pointer-events-none opacity-50":"opacity-100"),"aria-label":"Cuộn phải",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5.66675 3.33341L10.3334 8.00008L5.66675 12.6667"})})})]})})]}),e.jsx("div",{className:"mt-1 h-px flex-1 bg-gradient-to-r from-sky-500/50 via-cyan-500/30 to-transparent"})]})}),e.jsx("div",{className:"relative py-4",children:p&&e.jsx($,{...v,className:"movie-card-swiper",children:s.map(((s,i)=>{const{id:a,slug:r,ten_phim:n,poster_url:t,tinh_trang:l,ngon_ngu:c,ten_khac:d}=s,o=a||r||`movie-${i}`,h=i%2==0?"polygon(94.239% 100%, 5.761% 100%, 5.761% 100%, 4.826% 99.95%, 3.94% 99.803%, 3.113% 99.569%, 2.358% 99.256%, 1.687% 98.87%, 1.111% 98.421%, .643% 97.915%, .294% 97.362%, .075% 96.768%, 0 96.142%, 0 3.858%, 0 3.858%, .087% 3.185%, .338% 2.552%, .737% 1.968%, 1.269% 1.442%, 1.92% .984%, 2.672% .602%, 3.512% .306%, 4.423% .105%, 5.391% .008%, 6.4% .024%, 94.879% 6.625%, 94.879% 6.625%, 95.731% 6.732%, 96.532% 6.919%, 97.272% 7.178%, 97.942% 7.503%, 98.533% 7.887%, 99.038% 8.323%, 99.445% 8.805%, 99.747% 9.326%, 99.935% 9.88%, 100% 10.459%, 100% 96.142%, 100% 96.142%, 99.925% 96.768%, 99.706% 97.362%, 99.357% 97.915%, 98.889% 98.421%, 98.313% 98.87%, 97.642% 99.256%, 96.887% 99.569%, 96.06% 99.803%, 95.174% 99.95%, 94.239% 100%)":"polygon(5.761% 100%, 94.239% 100%, 94.239% 100%, 95.174% 99.95%, 96.06% 99.803%, 96.887% 99.569%, 97.642% 99.256%, 98.313% 98.87%, 98.889% 98.421%, 99.357% 97.915%, 99.706% 97.362%, 99.925% 96.768%, 100% 96.142%, 100% 3.858%, 100% 3.858%, 99.913% 3.185%, 99.662% 2.552%, 99.263% 1.968%, 98.731% 1.442%, 98.08% .984%, 97.328% .602%, 96.488% .306%, 95.577% .105%, 94.609% .008%, 93.6% .024%, 5.121% 6.625%, 5.121% 6.625%, 4.269% 6.732%, 3.468% 6.919%, 2.728% 7.178%, 2.058% 7.503%, 1.467% 7.887%, .962% 8.323%, .555% 8.805%, .253% 9.326%, .065% 9.88%, 0% 10.459%, 0% 96.142%, 0% 96.142%, .075% 96.768%, .294% 97.362%, .643% 97.915%, 1.111% 98.421%, 1.687% 98.87%, 2.358% 99.256%, 3.113% 99.569%, 3.94% 99.803%, 4.826% 99.95%, 5.761% 100%)";return e.jsx(S,{children:e.jsx("a",{href:`/phim/${r}`,className:"movie-card-link group",children:e.jsxs("div",{className:"movie-card-main",children:[e.jsxs("div",{className:"movie-poster-clip",style:{clipPath:h},children:[e.jsx("img",{src:t,alt:`Xem ${n||d} Vietsub Thuyết Minh Full HD`,className:"movie-poster-img",loading:"lazy"}),e.jsxs("div",{className:"movie-info-bottom",children:[e.jsx("span",{className:"movie-lang-tag",children:R(c)}),e.jsx("span",{className:"movie-status-tag-alt",children:C(l)})]})]}),e.jsxs("div",{className:"movie-ranking-row",children:[e.jsx("span",{className:"movie-ranking-number",children:i+1}),e.jsxs("div",{className:"movie-details-text",children:[e.jsx("h3",{className:"movie-title-main",title:n,children:n}),e.jsx("p",{className:"movie-subtitle",dangerouslySetInnerHTML:{__html:d}})]})]})]})})},o)}))})})]})}):e.jsxs("section",{className:"section-container","aria-label":`${i.replace(/\s+/g,"-")}-heading`,children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"header-group",children:[e.jsx("div",{className:"header-divider-dot"}),e.jsx("h2",{id:`${i.replace(/\s+/g,"-")}-heading`,className:"header-title",children:i})]}),e.jsx("div",{className:"header-divider-line"})]}),e.jsxs("div",{className:"error-container",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"error-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"error-message-title",children:"Rất tiếc, không tìm thấy phim nào."}),e.jsx("p",{className:"error-message-detail",children:"Vui lòng thử lại sau hoặc kiểm tra kết nối mạng của bạn."})]})]})}export{z as default};