import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.DtoOFyvK.js";import{a as b,r as N}from"./movieUtils.BPictt7M.js";const y="https://api.motchillx.site",S=({movie:s})=>{const[n,c]=a.useState(!1),[x,C]=a.useState(!1),[_,d]=a.useState(!1),[m,o]=a.useState(s.luot_like||0),[f,h]=a.useState(s.luot_dislike||0),[i,g]=a.useState(!1),[r,p]=a.useState(!1);a.useEffect(()=>{o(s.luot_like||0),h(s.luot_dislike||0)},[s]);const u=()=>{const t=window.location.href;navigator.clipboard.writeText(t).then(()=>{})},j=async()=>{if(!i)try{(await fetch(`${y}/api/phim/${s.slug}/like`,{method:"POST"})).ok?(o(l=>l+1),r&&h(l=>l>0?l-1:0),g(!0),p(!1)):console.error("Failed to like the movie")}catch(t){console.error("Error liking the movie:",t)}},w=async()=>{if(!r)try{(await fetch(`${y}/api/phim/${s.slug}/dislike`,{method:"POST"})).ok?(h(l=>l+1),i&&o(l=>l>0?l-1:0),p(!0),g(!1)):console.error("Failed to dislike the movie")}catch(t){console.error("Error disliking the movie:",t)}},k=()=>{window.innerWidth<640?d(!0):C(!x)};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex w-full items-center justify-between py-4 font-normal text-white",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[e.jsx("h1",{className:"text-left text-base font-bold leading-tight text-white lg:text-2xl",children:s.ten_phim}),e.jsxs("button",{onClick:k,className:"flex items-center lg:text-sm text-xs font-normal sm:static",children:[e.jsx("span",{className:"",children:"Giới thiệu"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`ml-1 h-4 w-4 -rotate-90 transform transition-transform duration-300 ${x?"hidden -rotate-90 sm:block":""}`,children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),e.jsxs("div",{className:"ml-auto hidden flex-row items-center justify-end gap-4 sm:flex",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{onClick:()=>c(!n),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 48 48",className:"cursor-pointer transition-all duration-300 ease-in-out hover:scale-105",children:e.jsxs("g",{fill:"none",stroke:"#9ca3af",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",children:[e.jsx("path",{d:"M28 6H42V20"}),e.jsx("path",{d:"M42 29.4737V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9C6 7.34315 7.34315 6 9 6L18 6"}),e.jsx("path",{d:"M25.7998 22.1999L41.0998 6.8999"})]})}),n&&e.jsxs("div",{className:"absolute right-0 top-full z-50 mt-2 w-[350px] rounded-lg bg-[#35373d] p-4 shadow-lg",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Chia Sẻ"}),e.jsxs("div",{className:"mt-2 flex flex-row items-center gap-2",children:[e.jsx("input",{type:"text",readOnly:!0,value:window.location.href,className:"flex-1 rounded-md bg-[#ffffff18] px-2 py-1 text-xs text-gray-300 outline-none"}),e.jsx("button",{onClick:u,className:"rounded-md bg-sky-300 px-3 py-1 text-xs font-semibold text-black",children:"Sao Chép"})]})]})]}),s.luot_xem&&e.jsxs("div",{className:"flex flex-row py-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",className:"cursor-pointer text-gray-400 transition-all duration-300 ease-in-out hover:scale-105",children:e.jsx("path",{fill:"currentColor",d:"M6 8c0-2.21 1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4s-4-1.79-4-4m3.14 11.75L8.85 19l.29-.75c.7-1.75 1.94-3.11 3.47-4.03c-.82-.14-1.69-.22-2.61-.22c-4.42 0-8 1.79-8 4v2h7.27c-.04-.09-.09-.17-.13-.25M17 18c-.56 0-1 .44-1 1s.44 1 1 1s1-.44 1-1s-.44-1-1-1m6 1c-.94 2.34-3.27 4-6 4s-5.06-1.66-6-4c.94-2.34 3.27-4 6-4s5.06 1.66 6 4m-3.5 0a2.5 2.5 0 0 0-5 0a2.5 2.5 0 0 0 5 0"})}),e.jsx("span",{className:"font-normal text-gray-400",children:s.luot_xem})]}),s.luot_like>=0&&e.jsxs("div",{className:"flex flex-row py-1",children:[e.jsx("svg",{onClick:j,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",className:`cursor-pointer transition-all duration-300 ease-in-out hover:scale-105 ${i?"text-sky-300":"text-gray-400"}`,children:e.jsx("path",{fill:"currentColor",d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2M4 10h2v9H4zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7z"})}),e.jsx("span",{className:"font-normal text-gray-400",children:m})]}),s.luot_dislike>=0&&e.jsxs("div",{className:"flex flex-row py-1",children:[e.jsx("svg",{onClick:w,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",className:`rotate-180 cursor-pointer transition-all duration-300 ease-in-out hover:scale-105 ${r?"text-sky-300":"text-gray-400"}`,children:e.jsx("path",{fill:"currentColor",d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2M4 10h2v9H4zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7z"})}),e.jsx("span",{className:"font-normal text-gray-400",children:f})]})]})]}),e.jsx("div",{className:"flex w-full flex-wrap items-center gap-2 text-sm font-medium text-[#ECECEC]",children:[s.tinh_trang&&e.jsx("span",{className:"text-sky-300",children:b(s.tinh_trang)}),s.nam_phat_hanh&&e.jsx("span",{children:s.nam_phat_hanh}),s.ngon_ngu&&e.jsx("span",{children:s.ngon_ngu}),s.the_loai&&s.the_loai.length>0&&e.jsx("span",{children:s.the_loai.map((t,l)=>e.jsxs("span",{children:[t.ten,l<s.the_loai.length-1&&" / "]},t.ten))})].filter(Boolean).map((t,l,v)=>e.jsxs("span",{children:[t,l<v.length-1&&" / "]},l))}),e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 sm:hidden pt-4",children:[e.jsxs("div",{className:"relative flex items-center justify-center gap-6",children:[e.jsx("svg",{onClick:()=>c(!n),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 48 48",className:"cursor-pointer transition-all duration-300 ease-in-out hover:scale-105",children:e.jsxs("g",{fill:"none",stroke:"#9ca3af",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",children:[e.jsx("path",{d:"M28 6H42V20"}),e.jsx("path",{d:"M42 29.4737V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9C6 7.34315 7.34315 6 9 6L18 6"}),e.jsx("path",{d:"M25.7998 22.1999L41.0998 6.8999"})]})}),n&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>c(!1),children:e.jsxs("div",{className:"fixed left-1/2 top-1/2 z-50 w-[350px] -translate-x-1/2 -translate-y-1/2 rounded-lg bg-[#1a1a1a] p-4 shadow-lg",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Chia Sẻ"}),e.jsxs("div",{className:"mt-2 flex flex-row items-center gap-2",children:[e.jsx("input",{type:"text",readOnly:!0,value:window.location.href,className:"flex-1 rounded-md bg-[#ffffff18] px-2 py-1 text-xs text-gray-300 outline-none"}),e.jsx("button",{onClick:u,className:"rounded-md bg-blue-300 px-3 py-1 text-xs font-semibold text-black",children:"Sao Chép"})]})]})}),s.luot_xem&&e.jsxs("div",{className:"flex flex-row py-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",className:"cursor-pointer text-gray-400 transition-all duration-300 ease-in-out hover:scale-105",children:e.jsx("path",{fill:"currentColor",d:"M6 8c0-2.21 1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4s-4-1.79-4-4m3.14 11.75L8.85 19l.29-.75c.7-1.75 1.94-3.11 3.47-4.03c-.82-.14-1.69-.22-2.61-.22c-4.42 0-8 1.79-8 4v2h7.27c-.04-.09-.09-.17-.13-.25M17 18c-.56 0-1 .44-1 1s.44 1 1 1s1-.44 1-1s-.44-1-1-1m6 1c-.94 2.34-3.27 4-6 4s-5.06-1.66-6-4c.94-2.34 3.27-4 6-4s5.06 1.66 6 4m-3.5 0a2.5 2.5 0 0 0-5 0a2.5 2.5 0 0 0 5 0"})}),e.jsx("span",{className:"font-normal text-gray-400",children:s.luot_xem})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.luot_like>=0&&e.jsxs("div",{className:"flex flex-row py-1",children:[e.jsx("svg",{onClick:j,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",className:`cursor-pointer transition-all duration-300 ease-in-out hover:scale-105 ${i?"text-sky-300":"text-gray-400"}`,children:e.jsx("path",{fill:"currentColor",d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2M4 10h2v9H4zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7z"})}),e.jsx("span",{className:"font-normal text-gray-400",children:m})]}),s.luot_dislike>=0&&e.jsxs("div",{className:"flex flex-row py-1",children:[e.jsx("svg",{onClick:w,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",className:`rotate-180 cursor-pointer transition-all duration-300 ease-in-out hover:scale-105 ${r?"text-sky-300":"text-gray-400"}`,children:e.jsx("path",{fill:"currentColor",d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2M4 10h2v9H4zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7z"})}),e.jsx("span",{className:"font-normal text-gray-400",children:f})]})]})]}),e.jsx("div",{className:`mt-4 w-full overflow-hidden rounded-lg bg-[#252525] ${x?"max-h-[500px] px-4 py-6":"max-h-0 p-0"} hidden sm:block`,children:e.jsxs("div",{className:"flex w-full flex-col items-start gap-6 sm:flex-row",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"relative aspect-[2/3] w-[130px] rounded-lg",children:e.jsx("img",{src:s.poster_url,alt:`Poster phim ${s.ten_phim}`,className:"absolute left-0 top-0 h-full w-full rounded-lg object-cover",loading:"eager",fetchPriority:"high"})})}),e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsx("h2",{className:"text-left text-base font-semibold leading-tight text-white lg:text-xl",children:s.ten_phim}),s.ten_khac&&e.jsx("p",{className:"text-left text-[13px] font-normal text-gray-400",children:s.ten_khac}),e.jsxs("div",{className:"mt-2 flex w-full flex-wrap items-center justify-start gap-1 text-xs font-medium sm:flex lg:gap-3 lg:text-sm",children:[s.tinh_trang&&e.jsxs("div",{className:"text-left lg:flex-none",children:[e.jsx("span",{className:"hidden text-gray-400 lg:inline",children:"Tình Trạng:"}),e.jsx("span",{className:"ml-0 text-sky-300 lg:ml-2",children:s.tinh_trang})]}),s.nam_phat_hanh&&e.jsxs("div",{className:"text-left before:pr-2 before:content-['/'] lg:flex-none lg:before:content-none",children:[e.jsx("span",{className:"hidden text-gray-400 lg:inline",children:"Năm:"}),e.jsx("span",{className:"ml-0 text-[#ECECEC] lg:ml-2",children:s.nam_phat_hanh})]}),s.ngon_ngu&&e.jsxs("div",{className:"text-left before:pr-2 before:content-['/'] lg:flex-none lg:before:content-none",children:[e.jsxs("span",{className:"hidden text-gray-400 lg:inline",children:["Ngôn ngữ:"," "]}),e.jsx("span",{className:"ml-0 text-[#ECECEC] lg:ml-2",children:N(s.ngon_ngu)})]})]}),s.the_loai&&s.the_loai.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"mr-2 text-xs font-medium text-gray-400 lg:text-sm",children:"Thể loại:"}),e.jsx("div",{className:"inline-flex flex-wrap gap-1",children:s.the_loai.map((t,l)=>e.jsxs("span",{className:"text-xs text-[#ECECEC] lg:text-sm",children:[t.ten,l<s.the_loai.length-1&&" / "]},t.ten))})]}),s.dao_dien&&e.jsx("div",{className:"py-1",children:e.jsxs("h2",{className:"my-1 text-xs font-medium text-gray-400 lg:text-sm",children:["Đạo diễn:",e.jsx("span",{className:"ml-2 font-normal text-[#ECECEC]",children:s.dao_dien})]})}),s.dien_vien&&s.dien_vien.length>0&&e.jsx("div",{className:"my-1 flex flex-col gap-1 text-xs font-medium text-gray-400 lg:text-sm",children:e.jsxs("span",{className:"line-clamp-2",children:["Diễn viên:",e.jsx("span",{className:"ml-2 font-normal text-[#ECECEC]",children:s.dien_vien.map(t=>t.ten).join(", ")})]})}),s.thoi_luong&&e.jsx("div",{className:"py-1",children:e.jsxs("h2",{className:"text-xs font-medium text-gray-400 lg:text-sm",children:["Thời Lượng:",e.jsx("span",{className:"ml-2 font-normal text-[#ECECEC]",children:s.thoi_luong})]})}),s.mo_ta&&e.jsxs("div",{className:"hidden flex-row gap-2 py-1 text-xs sm:flex lg:text-sm",children:[e.jsx("h2",{className:"whitespace-nowrap font-medium text-gray-400 lg:text-sm",children:"Nội Dung:"}),e.jsx("span",{className:"line-clamp-2 font-normal text-[#ECECEC]",children:s.mo_ta})]})]})]})}),e.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-50 transform transition-transform duration-300 sm:hidden ${_?"translate-y-0":"translate-y-full"}`,children:e.jsxs("div",{className:"relative w-full h-[75vh] overflow-y-auto rounded-t-lg bg-[#1a1a1a] px-4 py-2 text-white",children:[e.jsx("button",{onClick:()=>d(!1),className:"absolute right-4 top-2 ",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-white",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsx("div",{className:"flex w-full items-center font-normal text-white pt-4",children:e.jsx("h2",{className:"pb-4 text-xl font-normal leading-tight",children:"Chi Tiết Phim"})}),e.jsx("div",{className:"flex w-full flex-col items-start gap-4",children:e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("div",{className:"w-[70%]",children:[e.jsx("h2",{className:"py-2 text-left text-lg font-semibold leading-tight text-white lg:text-xl",children:s.ten_phim}),s.ten_khac&&e.jsx("p",{className:"text-left text-[13px] font-normal text-gray-400",children:s.ten_khac}),s.tinh_trang&&e.jsxs("div",{className:"mt-2 text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Tình trạng:"," "]}),e.jsx("span",{className:"text-sm text-sky-300",children:s.tinh_trang})]}),s.nam_phat_hanh&&e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Năm:"," "]}),e.jsx("span",{className:"text-sm text-[#ECECEC]",children:s.nam_phat_hanh})]}),s.ngon_ngu&&e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Ngôn ngữ:"," "]}),e.jsx("span",{className:"text-sm text-[#ECECEC]",children:N(s.ngon_ngu)})]}),s.the_loai&&s.the_loai.length>0&&e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Thể loại:"," "]}),e.jsx("span",{className:"text-sm text-[#ECECEC]",children:s.the_loai.map(t=>t.ten).join(" / ")})]}),s.dao_dien&&e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Đạo diễn:"," "]}),e.jsx("span",{className:"text-sm text-[#ECECEC]",children:s.dao_dien})]}),s.dien_vien&&s.dien_vien.length>0&&e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Diễn viên:"," "]}),e.jsx("span",{className:"text-sm text-[#ECECEC]",children:s.dien_vien.map(t=>t.ten).join(", ")})]}),s.thoi_luong&&e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Thời lượng:"," "]}),e.jsx("span",{className:"text-sm text-[#ECECEC]",children:s.thoi_luong})]})]}),e.jsx("div",{className:"relative h-full w-[30%] rounded-lg",children:e.jsx("img",{src:s.poster_url,alt:`Poster phim ${s.ten_phim}`,className:"absolute left-0 top-0 w-full rounded-lg object-cover"})})]}),s.mo_ta&&e.jsxs("div",{className:"mt-2 text-left",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-400",children:"Nội dung:"}),e.jsx("p",{className:"mt-1 text-sm font-normal text-[#ECECEC]",children:s.mo_ta})]})]})})]})})]})};export{S as default};
